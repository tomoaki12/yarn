<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ€ ã‚‚ã“ã‚‚ã“ãƒ¤ãƒ¼ãƒ³ â€” ä¸–ç•Œã®æ¯›ç³¸ã‚’æ¢ãã†</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Zen+Maru+Gothic:wght@400;500;700&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --rose:    #F4A7B9;
      --pink:    #F9C8D4;
      --lavender:#D8B4FE;
      --lilac:   #EDE0FF;
      --mint:    #A8E6CF;
      --peach:   #FFD3B6;
      --sky:     #BAE6FD;
      --cream:   #FFF8F0;
      --butter:  #FFF0C0;
      --text:    #5C3D5C;
      --soft:    #9B7AA0;
      --card-r:  24px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Zen Maru Gothic', sans-serif;
      background: var(--cream);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      /* subtle dot pattern */
      background-image: radial-gradient(circle, #f4a7b930 1px, transparent 1px);
      background-size: 28px 28px;
    }

    /* â”€â”€ HEADER â”€â”€ */
    header {
      background: linear-gradient(160deg, #fce4ec 0%, #f3e5f5 40%, #e8eaf6 100%);
      padding: 32px 24px 36px;
      text-align: center;
      position: relative;
      overflow: hidden;
      border-bottom: 3px solid #f9c8d4;
    }
    /* big soft circles */
    header::before {
      content: '';
      position: absolute; top: -60px; left: -60px;
      width: 240px; height: 240px;
      background: radial-gradient(circle, #fce4ec, transparent 70%);
      border-radius: 50%;
    }
    header::after {
      content: '';
      position: absolute; bottom: -80px; right: -40px;
      width: 300px; height: 300px;
      background: radial-gradient(circle, #e8eaf6, transparent 70%);
      border-radius: 50%;
    }
    .logo {
      font-family: 'Pacifico', cursive;
      font-size: clamp(2rem, 6vw, 3.4rem);
      color: var(--rose);
      letter-spacing: 1px;
      text-shadow: 2px 3px 0 #fff, 4px 5px 0 #f4a7b940;
      position: relative; z-index: 1;
    }
    .logo span { color: var(--lavender); }
    .tagline {
      color: var(--soft);
      font-size: .95rem;
      font-weight: 700;
      margin-top: 6px;
      position: relative; z-index: 1;
      letter-spacing: .5px;
    }
    .notice {
      color: #bba0bb;
      font-size: .75rem;
      margin-top: 6px;
      position: relative; z-index: 1;
    }
    .yarn-deco {
      position: absolute; z-index: 0;
      font-size: 2rem;
      animation: float 5s ease-in-out infinite;
      pointer-events: none;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.08));
    }
    .yarn-deco:nth-child(2) { top: 14px; right: 70px; animation-delay: .6s; }
    .yarn-deco:nth-child(3) { bottom: 10px; left: 50px; animation-delay: 1.4s; }
    .yarn-deco:nth-child(4) { top: 18px; left: 130px; animation-delay: 2.2s; font-size: 1.5rem; }
    .yarn-deco:nth-child(5) { bottom: 14px; right: 160px; animation-delay: .9s; font-size: 1.6rem; }
    @keyframes float {
      0%,100% { transform: translateY(0) rotate(-4deg); }
      50%      { transform: translateY(-12px) rotate(4deg); }
    }

    /* â”€â”€ SEARCH BAR â”€â”€ */
    .search-wrap {
      max-width: 640px;
      margin: 0 auto;
      padding: 22px 20px 0;
    }
    .search-row {
      display: flex;
      gap: 8px;
      background: #fff;
      border: 2.5px solid var(--rose);
      border-radius: 50px;
      padding: 6px 8px 6px 22px;
      box-shadow: 0 4px 20px #f4a7b930;
    }
    #searchInput {
      flex: 1;
      border: none; outline: none;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      color: var(--text);
      background: transparent;
    }
    #searchInput::placeholder { color: #cba8cb; font-weight: 500; }
    #searchBtn {
      background: linear-gradient(135deg, var(--rose), var(--lavender));
      color: #fff;
      border: none;
      border-radius: 40px;
      padding: 9px 24px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: .95rem;
      font-weight: 700;
      cursor: pointer;
      transition: opacity .2s, transform .1s;
      white-space: nowrap;
    }
    #searchBtn:hover { opacity: .85; transform: scale(1.04); }

    /* chips */
    .chips {
      display: flex; flex-wrap: wrap; gap: 8px;
      padding: 14px 20px;
      max-width: 640px; margin: 0 auto;
    }
    .chip {
      border: 2px solid currentColor;
      border-radius: 50px;
      padding: 5px 16px;
      font-size: .8rem;
      font-weight: 700;
      cursor: pointer;
      transition: all .18s;
      background: #fff;
    }
    .chip:hover { opacity: .8; }
    .chip.active { color: #fff !important; border-color: transparent !important; }
    .chip[data-q="wool"]     { color: var(--rose);    } .chip[data-q="wool"].active     { background: var(--rose); }
    .chip[data-q="merino"]   { color: #b088c8; }        .chip[data-q="merino"].active   { background: #b088c8; }
    .chip[data-q="cotton"]   { color: #5fba9a; }        .chip[data-q="cotton"].active   { background: #5fba9a; }
    .chip[data-q="alpaca"]   { color: #e09060; }        .chip[data-q="alpaca"].active   { background: #e09060; }
    .chip[data-q="silk"]     { color: #70aad4; }        .chip[data-q="silk"].active     { background: #70aad4; }
    .chip[data-q="linen"]    { color: #a89060; }        .chip[data-q="linen"].active    { background: #a89060; }
    .chip[data-q="cashmere"] { color: var(--rose); }    .chip[data-q="cashmere"].active { background: var(--rose); }
    /* ç´ æã®ã™ã¹ã¦ */
    .chip[data-type="material"][data-q="all"] { color: var(--soft); }
    .chip[data-type="material"][data-q="all"].active { background: var(--soft); }
    /* å›½ãƒãƒƒãƒ— */
    .chip-country { color: #6a9ec8; }
    .chip-country.active { background: #6a9ec8; }
    /* å¤ªã•ãƒãƒƒãƒ— */
    .chip-weight { color: #b07ec8; }
    .chip-weight.active { background: #b07ec8; }

    /* â”€â”€ MAIN â”€â”€ */
    main { max-width: 1200px; margin: 0 auto; padding: 16px 16px 80px; }

    #statusBar {
      text-align: center;
      font-weight: 700;
      color: var(--soft);
      font-size: .9rem;
      min-height: 26px;
      margin-bottom: 14px;
    }

    /* API key box */
    #apiKeyBox {
      background: linear-gradient(135deg, #fff8fc, #f8f0ff);
      border: 2px solid var(--pink);
      border-radius: var(--card-r);
      padding: 20px 24px;
      margin: 16px 0 24px;
      box-shadow: 0 4px 20px #f4a7b920;
    }
    #apiKeyBox h3 { font-family: 'Pacifico', cursive; font-size: 1.15rem; color: var(--rose); margin-bottom: 8px; }
    #apiKeyBox p  { font-size: .88rem; line-height: 1.7; color: #886688; margin-bottom: 12px; }
    #apiKeyBox a  { color: #b088c8; font-weight: 700; }
    .key-row { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    #apiUser, #apiPass {
      flex: 1; min-width: 130px;
      padding: 8px 14px;
      border: 2px solid var(--rose);
      border-radius: 50px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: .88rem; font-weight: 700; outline: none;
      background: #fff;
      display: block;
      color: var(--text);
    }
    #saveKeyBtn {
      background: linear-gradient(135deg, var(--mint), #5fba9a);
      color: #fff; border: none;
      border-radius: 50px; padding: 9px 22px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: .9rem; font-weight: 700;
      cursor: pointer; transition: opacity .2s; white-space: nowrap;
    }
    #saveKeyBtn:hover { opacity: .85; }
    #keyStatus { font-size: .82rem; font-weight: 700; color: #5fba9a; margin-top: 6px; }

    /* â”€â”€ CARD GRID â”€â”€ */
    #grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 18px;
    }

    .yarn-card {
      background: #fff;
      border-radius: var(--card-r);
      overflow: hidden;
      border: 2.5px solid transparent;
      box-shadow: 0 4px 16px rgba(180,120,180,0.1);
      transition: transform .22s cubic-bezier(.34,1.56,.64,1), box-shadow .22s;
      animation: popIn .4s cubic-bezier(.34,1.56,.64,1) both;
      cursor: pointer;
      position: relative;
    }
    .yarn-card::before {
      content: '';
      position: absolute; top: 0; left: 0; right: 0;
      height: 4px;
      border-radius: var(--card-r) var(--card-r) 0 0;
    }
    .yarn-card:hover {
      transform: translateY(-6px) scale(1.02);
      box-shadow: 0 12px 32px rgba(180,120,180,0.18);
    }
    .yarn-card:nth-child(6n+1) { border-color: var(--pink);    } .yarn-card:nth-child(6n+1)::before { background: var(--rose); }
    .yarn-card:nth-child(6n+2) { border-color: #c8e6c9; }        .yarn-card:nth-child(6n+2)::before { background: var(--mint); }
    .yarn-card:nth-child(6n+3) { border-color: var(--butter); }  .yarn-card:nth-child(6n+3)::before { background: #f0c040; }
    .yarn-card:nth-child(6n+4) { border-color: var(--sky); }     .yarn-card:nth-child(6n+4)::before { background: #70aad4; }
    .yarn-card:nth-child(6n+5) { border-color: var(--lilac); }   .yarn-card:nth-child(6n+5)::before { background: var(--lavender); }
    .yarn-card:nth-child(6n+6) { border-color: var(--peach); }   .yarn-card:nth-child(6n+6)::before { background: #f4a060; }

    @keyframes popIn {
      0%   { opacity: 0; transform: scale(.82) translateY(12px); }
      100% { opacity: 1; transform: scale(1)   translateY(0); }
    }

    .card-img {
      width: 100%; aspect-ratio: 4/3;
      object-fit: cover; display: block;
    }
    .card-img-placeholder {
      width: 100%; aspect-ratio: 4/3;
      display: flex; align-items: center; justify-content: center;
      font-size: 3.8rem;
    }
    .yarn-card:nth-child(6n+1) .card-img-placeholder { background: linear-gradient(135deg,#fff0f5,#ffe8f0); }
    .yarn-card:nth-child(6n+2) .card-img-placeholder { background: linear-gradient(135deg,#f0fff4,#e0f8ec); }
    .yarn-card:nth-child(6n+3) .card-img-placeholder { background: linear-gradient(135deg,#fffff0,#fff8d0); }
    .yarn-card:nth-child(6n+4) .card-img-placeholder { background: linear-gradient(135deg,#f0f8ff,#e0f0ff); }
    .yarn-card:nth-child(6n+5) .card-img-placeholder { background: linear-gradient(135deg,#f8f0ff,#f0e8ff); }
    .yarn-card:nth-child(6n+6) .card-img-placeholder { background: linear-gradient(135deg,#fff5f0,#ffe8d8); }

    .card-body { padding: 12px 16px 14px; }
    .card-brand {
      font-size: .68rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: 1px;
      color: var(--lavender); margin-bottom: 2px;
    }
    .card-name {
      font-family: 'Nunito', 'Zen Maru Gothic', sans-serif;
      font-weight: 800;
      font-size: 1rem; line-height: 1.35;
      margin-bottom: 8px; color: var(--text);
    }
    .card-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 8px; }
    .tag {
      font-size: .68rem; font-weight: 700;
      padding: 3px 10px; border-radius: 50px; color: #fff;
    }
    .tag-weight   { background: #a0c4e8; }
    .tag-fiber    { background: #a8d8bc; }
    .tag-washable { background: var(--rose); }
    .card-detail  { font-size: .8rem; color: #b098b0; line-height: 1.6; }
    .card-detail span { color: var(--text); font-weight: 700; }

    .card-footer {
      border-top: 2px solid #fce8f0;
      padding: 9px 16px;
      display: flex; justify-content: space-between; align-items: center;
      background: #fffbfd;
    }
    .stars { color: #f4b860; font-size: .88rem; }
    .ravelry-link {
      font-size: .72rem; font-weight: 700;
      color: var(--soft); text-decoration: none;
      padding: 3px 10px;
      border: 1.5px solid var(--lavender);
      border-radius: 50px;
      transition: all .15s;
    }
    .ravelry-link:hover { background: var(--lavender); color: #fff; border-color: var(--lavender); }

    /* skeleton */
    .skeleton-card {
      background: #fff; border-radius: var(--card-r);
      border: 2px solid #f0e4f0; overflow: hidden;
      animation: pulse 1.6s ease-in-out infinite;
    }
    .skel-img  { width: 100%; aspect-ratio: 4/3; background: #fce8f4; }
    .skel-body { padding: 14px 16px; }
    .skel-line { height: 11px; background: #fce8f4; border-radius: 6px; margin-bottom: 10px; }
    .skel-line.w70 { width: 70%; }
    .skel-line.w50 { width: 50%; }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.45} }

    /* modal */
    #modal {
      display: none; position: fixed; inset: 0;
      background: rgba(92,61,92,0.35);
      backdrop-filter: blur(4px);
      z-index: 100; align-items: center; justify-content: center; padding: 20px;
    }
    #modal.open { display: flex; }
    .modal-box {
      background: #fff;
      border-radius: 28px; max-width: 500px; width: 100%;
      max-height: 90vh; overflow-y: auto;
      border: 3px solid var(--pink);
      box-shadow: 0 20px 60px rgba(180,120,180,0.25);
      animation: popIn .3s ease both;
    }
    .modal-img { width: 100%; aspect-ratio: 16/9; object-fit: cover; border-radius: 24px 24px 0 0; }
    .modal-img-placeholder {
      width: 100%; aspect-ratio: 16/9;
      display: flex; align-items: center; justify-content: center;
      font-size: 6rem;
      background: linear-gradient(135deg, #fce4ec, #f3e5f5);
      border-radius: 24px 24px 0 0;
    }
    .modal-content { padding: 20px 24px 26px; }
    .modal-brand { color: var(--lavender); font-weight: 700; font-size: .75rem; text-transform: uppercase; letter-spacing: 1.5px; }
    .modal-title { font-family: 'Nunito', 'Zen Maru Gothic', sans-serif; font-weight: 800; font-size: 1.6rem; margin: 4px 0 12px; color: var(--text); }
    .modal-tags  { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px; }
    .modal-grid  { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 16px; }
    .modal-item  { background: #fdf5ff; border-radius: 14px; padding: 10px 14px; }
    .modal-item label { font-size: .68rem; font-weight: 700; text-transform: uppercase; color: var(--lavender); display: block; margin-bottom: 2px; letter-spacing: .5px; }
    .modal-item value { font-size: .92rem; font-weight: 700; color: var(--text); }
    .modal-notes { font-size: .86rem; color: #886688; line-height: 1.7; margin-bottom: 16px; background: #fff8fc; border-radius: 14px; padding: 12px 16px; border-left: 4px solid var(--rose); }
    .modal-actions { display: flex; gap: 10px; }
    .btn-ravelry {
      flex: 1; background: linear-gradient(135deg, var(--rose), var(--lavender));
      color: #fff; border: none; border-radius: 14px; padding: 12px;
      font-family: 'Zen Maru Gothic', sans-serif; font-size: .95rem; font-weight: 700;
      cursor: pointer; text-align: center; text-decoration: none; transition: opacity .2s;
    }
    .btn-ravelry:hover { opacity: .85; }
    .btn-search {
      display: inline-block;
      background: linear-gradient(135deg, #a8e6cf, #7dd4b4);
      color: #fff; text-decoration: none;
      padding: 10px 20px; border-radius: 50px;
      font-weight: 700; font-size: .9rem;
      transition: opacity .18s;
    }
    .btn-search:hover { opacity: .85; }
    .btn-close {
      background: #f5eef8; color: var(--soft); border: none;
      border-radius: 14px; padding: 12px 18px;
      font-family: 'Zen Maru Gothic', sans-serif; font-size: .95rem; font-weight: 700;
      cursor: pointer; transition: background .2s;
    }
    .btn-close:hover { background: #ede0f5; }

    /* load more */
    #loadMore {
      display: block; margin: 36px auto 0;
      background: linear-gradient(135deg, var(--rose), var(--lavender));
      color: #fff; border: none; border-radius: 50px;
      padding: 14px 44px;
      font-family: 'Zen Maru Gothic', sans-serif; font-size: 1rem; font-weight: 700;
      cursor: pointer;
      box-shadow: 0 4px 20px #f4a7b940;
      transition: transform .15s, box-shadow .15s;
    }
    #loadMore:hover { transform: scale(1.05); box-shadow: 0 8px 28px #f4a7b950; }
    #loadMore:disabled { opacity: .5; cursor: default; transform: none; }

    /* empty */
    #emptyState { display: none; text-align: center; padding: 60px 20px; color: #c0a0c0; }
    #emptyState .icon { font-size: 4rem; display: block; margin-bottom: 12px; }
    #emptyState p { font-weight: 700; font-size: 1rem; }

    /* demo notice */
    #demoNotice {
      background: linear-gradient(135deg, #fff0f8, #f8f0ff);
      border: 2px dashed var(--rose); border-radius: 18px;
      padding: 14px 18px; font-size: .84rem; color: #a888a8;
      margin: 0 0 20px; line-height: 1.6; display: none;
    }
    #demoNotice strong { color: var(--soft); }

    @media (max-width: 500px) {
      #grid { grid-template-columns: repeat(auto-fill, minmax(155px, 1fr)); gap: 12px; }
      .modal-grid { grid-template-columns: 1fr; }
    }
    /* â”€â”€ FILTER SECTIONS â”€â”€ */
    .filter-section {
      max-width: 760px; margin: 0 auto;
      padding: 8px 20px 0;
    }
    .filter-label {
      font-size: .75rem; font-weight: 800;
      color: var(--soft); text-transform: uppercase;
      letter-spacing: 1px; margin-bottom: 6px;
    }

    /* â”€â”€ VIEW TABS â”€â”€ */
    .view-tabs {
      display: flex; gap: 10px;
      max-width: 1200px; margin: 0 auto 16px;
      padding: 0 4px;
    }
    .view-tab {
      background: #fff; border: 2px solid var(--pink);
      border-radius: 50px; padding: 8px 22px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: .9rem; font-weight: 700;
      color: var(--soft); cursor: pointer;
      transition: all .18s;
    }
    .view-tab.active {
      background: linear-gradient(135deg, var(--rose), var(--lavender));
      border-color: transparent; color: #fff;
      box-shadow: 0 3px 12px #f4a7b940;
    }
    .view-tab:hover:not(.active) { background: #fff0f8; }

    /* â”€â”€ HEART BUTTON â”€â”€ */
    .card-img-wrap { position: relative; }
    .heart-btn {
      position: absolute; top: 8px; right: 8px;
      background: rgba(255,255,255,0.85);
      border: none; border-radius: 50%;
      width: 36px; height: 36px;
      font-size: 1.1rem; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform .2s, background .15s;
      backdrop-filter: blur(4px);
    }
    .heart-btn:hover { transform: scale(1.2); background: #fff; }
    .heart-btn.faved { background: #fff0f5; }

    /* modal heart */
    .modal-title-row { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; }
    .modal-title-row .modal-title { margin-bottom: 0; flex: 1; }
    .modal-heart {
      background: #fff0f5; border: 2px solid var(--pink);
      border-radius: 50%; width: 44px; height: 44px; min-width: 44px;
      font-size: 1.3rem; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: transform .2s;
    }
    .modal-heart:hover { transform: scale(1.15); }
    .modal-heart.faved { background: #fce4ec; }

  </style>
<body>

<!-- HEADER -->
<header>
  <div class="yarn-deco">ğŸ§¶</div>
  <div class="yarn-deco">ğŸ€</div>
  <div class="yarn-deco">ğŸŒ¸</div>
  <div class="yarn-deco">âœ¨</div>
  <div class="yarn-deco">ğŸª¡</div>
  <h1 class="logo">ğŸ€ ã‚‚ã“ã‚‚ã“<span>ãƒ¤ãƒ¼ãƒ³</span></h1>
  <p class="tagline">ä¸–ç•Œä¸­ã®æ¯›ç³¸ã‚’ã‚ã¤ã‚ãŸã‚ˆ ğŸ§¶ğŸŒ¸</p>
  <p class="notice">â€» è©³ç´°ã®ãƒªãƒ³ã‚¯å…ˆãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆãŒã‚ã‚Šã¾ã™</p>
</header>

<!-- SEARCH -->
<div class="search-wrap">
  <div class="search-row">
    <input id="searchInput" type="text" placeholder="ğŸ” æ¯›ç³¸åãƒ»ç´ æãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ã‚’æ¤œç´¢â€¦" />
    <button id="searchBtn">ã•ãŒã™ ğŸŒ¸</button>
  </div>
</div>

<!-- ç´ æãƒãƒƒãƒ— -->
<div class="filter-section">
  <div class="filter-label">ğŸ§µ ç´ æ</div>
  <div class="chips" id="materialChips">
    <span class="chip" data-type="material" data-q="all">âœ¨ ã™ã¹ã¦</span>
    <span class="chip" data-type="material" data-q="wool">ğŸ‘ ã‚¦ãƒ¼ãƒ«</span>
    <span class="chip" data-type="material" data-q="merino">âœ¨ ãƒ¡ãƒªãƒ</span>
    <span class="chip" data-type="material" data-q="cotton">ğŸŒ¿ ã‚³ãƒƒãƒˆãƒ³</span>
    <span class="chip" data-type="material" data-q="alpaca">ğŸ¦™ ã‚¢ãƒ«ãƒ‘ã‚«</span>
    <span class="chip" data-type="material" data-q="silk">ğŸ•Šï¸ ã‚·ãƒ«ã‚¯</span>
    <span class="chip" data-type="material" data-q="linen">ğŸŒ¾ ãƒªãƒãƒ³</span>
    <span class="chip" data-type="material" data-q="cashmere">ğŸ‘‘ ã‚«ã‚·ãƒŸã‚¢</span>
  </div>
</div>

<!-- å›½ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
<div class="filter-section">
  <div class="filter-label">ğŸŒ å›½</div>
  <div class="chips" id="countryChips">
    <span class="chip chip-country active" data-type="country" data-q="all">ğŸŒ ã™ã¹ã¦</span>
    <span class="chip chip-country" data-type="country" data-q="æ—¥æœ¬">ğŸ‡¯ğŸ‡µ æ—¥æœ¬</span>
    <span class="chip chip-country" data-type="country" data-q="ã‚¢ãƒ¡ãƒªã‚«">ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«</span>
    <span class="chip chip-country" data-type="country" data-q="ã‚¤ã‚®ãƒªã‚¹">ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹</span>
    <span class="chip chip-country" data-type="country" data-q="ãƒãƒ«ã‚¦ã‚§ãƒ¼">ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼</span>
    <span class="chip chip-country" data-type="country" data-q="ãƒ‰ã‚¤ãƒ„">ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„</span>
    <span class="chip chip-country" data-type="country" data-q="ãƒ‡ãƒ³ãƒãƒ¼ã‚¯">ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯</span>
    <span class="chip chip-country" data-type="country" data-q="ã‚¤ã‚¿ãƒªã‚¢">ğŸ‡®ğŸ‡¹ ã‚¤ã‚¿ãƒªã‚¢</span>
    <span class="chip chip-country" data-type="country" data-q="ã‚¹ã‚¤ã‚¹">ğŸ‡¨ğŸ‡­ ã‚¹ã‚¤ã‚¹</span>
  </div>
</div>

<!-- å¤ªã•ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
<div class="filter-section">
  <div class="filter-label">âš–ï¸ å¤ªã•</div>
  <div class="chips" id="weightChips">
    <span class="chip chip-weight active" data-type="weight" data-q="all">ã™ã¹ã¦</span>
    <span class="chip chip-weight" data-type="weight" data-q="Lace">ğŸ•¸ï¸ æ¥µç´°ï¼ˆãƒ¬ãƒ¼ã‚¹ï¼‰</span>
    <span class="chip chip-weight" data-type="weight" data-q="Fingering">ğŸª¡ ç´°ï¼ˆã‚½ãƒƒã‚¯ã‚¹ï¼‰</span>
    <span class="chip chip-weight" data-type="weight" data-q="Sport">ğŸŒ¸ ä¸­ç´°</span>
    <span class="chip chip-weight" data-type="weight" data-q="DK">ğŸŒ· ä¸¦å¤ªï¼ˆDKï¼‰</span>
    <span class="chip chip-weight" data-type="weight" data-q="Worsted">ğŸ§¶ ä¸­å¤ª</span>
    <span class="chip chip-weight" data-type="weight" data-q="Aran">ğŸŒ¼ æ¥µå¤ªï¼ˆã‚¢ãƒ©ãƒ³ï¼‰</span>
    <span class="chip chip-weight" data-type="weight" data-q="Bulky">ğŸŒº è¶…æ¥µå¤ª</span>
  </div>
</div>

<!-- MAIN -->
<main>
  <!-- ãŠæ°—ã«å…¥ã‚Šã‚¿ãƒ– -->
  <div class="view-tabs">
    <button class="view-tab active" id="tabAll" onclick="switchTab('all')">ğŸ§¶ ã™ã¹ã¦</button>
    <button class="view-tab" id="tabFav" onclick="switchTab('fav')">ğŸ©· ãŠæ°—ã«å…¥ã‚Š <span id="favCount"></span></button>
  </div>

  <div id="statusBar"></div>
  <div id="grid"></div>
  <div id="emptyState">
    <span class="icon">ğŸ”</span>
    <p id="emptyMsg">æ¯›ç³¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åˆ¥ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è©¦ã—ã¦ã¿ã¦ï¼</p>
  </div>
  <button id="loadMore" style="display:none">ã‚‚ã£ã¨ã¿ã‚‹ ğŸ€</button>
</main>

<!-- MODAL -->
<div id="modal">
  <div class="modal-box" id="modalBox"></div>
</div>

<script>
// â”€â”€ STATE â”€â”€
let currentMaterial = 'all';
let currentCountry  = 'all';
let currentWeight   = 'all';
let currentSearch   = '';
let currentPage     = 1;
let totalPages      = 1;
let currentTab      = 'all'; // 'all' or 'fav'
const PAGE_SIZE     = 12;
const EMOJIS = ['ğŸ§¶','ğŸ€','âœ¨','ğŸª¡','ğŸ’«','ğŸŒˆ','ğŸ¨','ğŸŒ¸','ğŸ¬','ğŸŒº','ğŸ¦‹','ğŸµ'];
let favorites       = JSON.parse(localStorage.getItem('yarn_favs') || '[]');

// â”€â”€ YARN DATABASE â”€â”€
const YARNS = [
  { id:1,  name:'Cascade 220', brand:'Cascade Yarns', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Worsted', grams:100, yardage:200, rating:4.8, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Cascade/29784/CY_220_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/cascade-yarns-cascade-220',
    desc:'ã‚¢ãƒ¡ãƒªã‚«ã§æœ€ã‚‚äººæ°—ã®ã‚¦ãƒ¼ãƒ«ç³¸ã€‚ç™ºè‰²ãŒç¾ã—ãã€ç·¨ã¿ã‚„ã™ã„å®šç•ªãƒ¤ãƒ¼ãƒ³ã€‚' },
  { id:2,  name:'Malabrigo Rios', brand:'Malabrigo', country:'ğŸ‡ºğŸ‡¾ ã‚¦ãƒ«ã‚°ã‚¢ã‚¤',
    weight:'Worsted', grams:100, yardage:192, rating:4.9, washable:true,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool','merino'],
    img:'https://images.ravelrycache.com/uploads/Malabrigo/213682/DSC_0484_medium2.JPG',
    url:'https://www.ravelry.com/yarns/library/malabrigo-rios',
    desc:'ã‚¦ãƒ«ã‚°ã‚¢ã‚¤ç”£ã®æ‰‹æŸ“ã‚ãƒ¡ãƒªãƒã€‚è±Šã‹ãªè‰²åˆã„ã¨æŸ”ã‚‰ã‹ã•ã§ä¸–ç•Œä¸­ã§å¤§äººæ°—ã€‚' },
  { id:3,  name:'Berroco Ultra Wool', brand:'Berroco', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Worsted', grams:100, yardage:219, rating:4.7, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Berroco/284751/5185_Zucchini_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/berroco-ultra-wool',
    desc:'æ´—æ¿¯æ©Ÿã§æ´—ãˆã‚‹ã‚¦ãƒ¼ãƒ«100%ã€‚ä¸ˆå¤«ã§ãŠæ‰‹å…¥ã‚Œç°¡å˜ã€åˆå¿ƒè€…ã«ã‚‚äººæ°—ã€‚' },
  { id:4,  name:'Drops Nepal', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'Aran', grams:50, yardage:75, rating:4.5, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:65},{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:35}], tags:['wool','alpaca'],
    img:'https://images.ravelrycache.com/uploads/DROPS/111620/drops_nepal_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-nepal',
    desc:'ãƒãƒ«ã‚¦ã‚§ãƒ¼ç™ºã®ã‚¦ãƒ¼ãƒ«ï¼†ã‚¢ãƒ«ãƒ‘ã‚«ãƒ–ãƒ¬ãƒ³ãƒ‰ã€‚æ¸©ã‹ãã¦ã‚³ã‚¹ãƒ‘ãŒé«˜ã„äººæ°—ç³¸ã€‚' },
  { id:5,  name:'Rowan British Sheep Breeds DK', brand:'Rowan', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'DK', grams:100, yardage:208, rating:4.4, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Rowan/246289/WEB_-_RYC001_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/rowan-british-sheep-breeds-dk',
    desc:'è‹±å›½ç”£ç¾Šæ¯›100%ã€‚ç”£åœ°ãƒ»å“ç¨®ã«ã“ã ã‚ã£ãŸã‚µã‚¹ãƒ†ãƒŠãƒ–ãƒ«ãªä¸€ç³¸ã€‚' },
  { id:6,  name:'Opal Uni 4-ply', brand:'Opal', country:'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„',
    weight:'Fingering', grams:100, yardage:425, rating:4.6, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:75},{name:'ãƒãƒªã‚¢ãƒŸãƒ‰',pct:25}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Opal/54458/opal_uni_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/opal-uni-4-fach',
    desc:'ãƒ‰ã‚¤ãƒ„ã®äººæ°—é´ä¸‹ç³¸ã€‚è€ä¹…æ€§ãƒãƒ„ã‚°ãƒ³ã§æ´—æ¿¯æ©ŸOKã€‚é´ä¸‹ç·¨ã¿ã®å®šç•ªã€‚' },
  { id:7,  name:'Blue Sky Fibers Woolstok', brand:'Blue Sky Fibers', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Worsted', grams:50, yardage:123, rating:4.5, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Blue-Sky-Fibers/261697/BSF_Woolstok_2307_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/blue-sky-fibers-woolstok',
    desc:'ã‚¦ãƒ«ã‚°ã‚¢ã‚¤ç”£ã‚¦ãƒ¼ãƒ«ã®ä¸Šè³ªDKã€œWorstedç³¸ã€‚æŸ”ã‚‰ã‹ãç™ºè‰²è±Šã‹ã€‚' },
  { id:8,  name:'Lana Grossa Cool Wool', brand:'Lana Grossa', country:'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„',
    weight:'Fingering', grams:50, yardage:160, rating:4.5, washable:true,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool','merino'],
    img:'https://images.ravelrycache.com/uploads/Lana-Grossa/56736/COOL_WOOL_2000_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/lana-grossa-cool-wool-2000',
    desc:'ãƒ‰ã‚¤ãƒ„ã®äººæ°—ãƒ¡ãƒªãƒç³¸ã€‚æ´—æ¿¯æ©Ÿå¯¾å¿œã§ç¹Šç´°ãªãƒ‹ãƒƒãƒˆã«æœ€é©ã€‚' },
  { id:9,  name:'Malabrigo Merino Worsted', brand:'Malabrigo', country:'ğŸ‡ºğŸ‡¾ ã‚¦ãƒ«ã‚°ã‚¢ã‚¤',
    weight:'Worsted', grams:100, yardage:210, rating:4.9, washable:false,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['merino','wool'],
    img:'https://images.ravelrycache.com/uploads/Malabrigo/34252/DSC06269_medium2.JPG',
    url:'https://www.ravelry.com/yarns/library/malabrigo-yarn-merino-worsted',
    desc:'æ‰‹æŸ“ã‚ã®æ¥µä¸Šãƒ¡ãƒªãƒã€‚è‰²ã®æ·±ã¿ã¨æŸ”ã‚‰ã‹ã•ã¯ã‚·ãƒªãƒ¼ã‚ºéšä¸€ã€‚' },
  { id:10, name:'Drops Merino Extra Fine', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'DK', grams:50, yardage:105, rating:4.6, washable:false,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['merino'],
    img:'https://images.ravelrycache.com/uploads/DROPS/43019/drops_merino_extra_fine_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-merino-extra-fine',
    desc:'è‚Œè§¦ã‚ŠæŠœç¾¤ã®ã‚¨ã‚¯ã‚¹ãƒˆãƒ©ãƒ•ã‚¡ã‚¤ãƒ³ãƒ¡ãƒªãƒã€‚ãƒªãƒ¼ã‚ºãƒŠãƒ–ãƒ«ã§è‰²å±•é–‹ã‚‚è±Šå¯Œã€‚' },
  { id:11, name:'Debbie Bliss Cashmerino Aran', brand:'Debbie Bliss', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'Aran', grams:50, yardage:90, rating:4.6, washable:true,
    fibers:[{name:'ãƒ¡ãƒªãƒ',pct:55},{name:'ã‚«ã‚·ãƒŸã‚¢',pct:12},{name:'ãƒã‚¤ã‚¯ãƒ­ãƒ•ã‚¡ã‚¤ãƒãƒ¼',pct:33}], tags:['merino','cashmere'],
    img:'https://images.ravelrycache.com/uploads/Debbie-Bliss/9259/db_cashmerino_aran_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/debbie-bliss-cashmerino-aran',
    desc:'ãƒ¡ãƒªãƒï¼‹ã‚«ã‚·ãƒŸã‚¢æ··ç´¡ã®è´…æ²¢ãƒ¤ãƒ¼ãƒ³ã€‚èµ¤ã¡ã‚ƒã‚“ç”¨å“ã«ã‚‚äººæ°—ã®æŸ”ã‚‰ã‹ã•ã€‚' },
  { id:12, name:'Filcolana Peruviana', brand:'Filcolana', country:'ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯',
    weight:'Fingering', grams:50, yardage:164, rating:4.7, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['merino','wool'],
    img:'https://images.ravelrycache.com/uploads/Filcolana/263143/Filcolana-Peruviana-816-medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/filcolana-peruviana',
    desc:'ãƒ‡ãƒ³ãƒãƒ¼ã‚¯ç™ºã®ä¸Šè³ªãƒšãƒ«ãƒ¼ç”£ã‚¦ãƒ¼ãƒ«ã€‚ç¹Šç´°ãªç·¨ã¿åœ°ã«ä»•ä¸ŠãŒã‚‹ã€‚' },
  { id:13, name:'Drops Alpaca', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'Sport', grams:50, yardage:167, rating:4.7, washable:false,
    fibers:[{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:100}], tags:['alpaca'],
    img:'https://images.ravelrycache.com/uploads/DROPS/10297/drops_alpaca_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-alpaca',
    desc:'ã‚¢ãƒ«ãƒ‘ã‚«100%ã®ãƒªãƒ¼ã‚ºãƒŠãƒ–ãƒ«ãƒ¤ãƒ¼ãƒ³ã€‚è»½ãã¦æ¸©ã‹ãå…‰æ²¢ãŒç¾ã—ã„ã€‚' },
  { id:14, name:'Paintbox Yarns Simply Alpaca', brand:'Paintbox Yarns', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'DK', grams:50, yardage:100, rating:4.3, washable:false,
    fibers:[{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:100}], tags:['alpaca'],
    img:'https://images.ravelrycache.com/uploads/Paintbox-Yarns/318617/PBX_Simply_Alpaca_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/paintbox-yarns-simply-alpaca',
    desc:'æ‰‹é ƒãªä¾¡æ ¼ã®ã‚¢ãƒ«ãƒ‘ã‚«ç³¸ã€‚åˆã‚ã¦ã®ã‚¢ãƒ«ãƒ‘ã‚«ã«ã´ã£ãŸã‚Šã€‚' },
  { id:15, name:'BC Garn Tundra', brand:'BC Garn', country:'ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯',
    weight:'Bulky', grams:100, yardage:100, rating:4.6, washable:false,
    fibers:[{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:100}], tags:['alpaca'],
    img:'https://images.ravelrycache.com/uploads/BC-Garn/198879/tundra_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/bc-garn-tundra',
    desc:'ã–ã£ãã‚Šå¤ªã‚ã®ã‚¢ãƒ«ãƒ‘ã‚«ç³¸ã€‚æ¥µå¤ªã§ã‚µã‚¯ã‚µã‚¯ç·¨ã‚ã¦è¶…æ¸©ã‹ã„å†¬ã®å®šç•ªã€‚' },
  { id:16, name:'Lion Brand 24/7 Cotton', brand:'Lion Brand', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Worsted', grams:100, yardage:186, rating:4.3, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:100}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/Lion-Brand-Yarn/215780/24-7_cotton_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/lion-brand-24-7-cotton',
    desc:'ã‚³ãƒƒãƒˆãƒ³100%ã§æ´—æ¿¯æ©ŸOKã€‚å¤ç‰©ãƒ»ã‚­ãƒƒãƒãƒ³ç”¨å“ãƒ»èµ¤ã¡ã‚ƒã‚“ã‚°ãƒƒã‚ºã«ã´ã£ãŸã‚Šã€‚' },
  { id:17, name:'Paintbox Yarns Cotton DK', brand:'Paintbox Yarns', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'DK', grams:50, yardage:125, rating:4.2, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:100}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/Paintbox-Yarns/262477/PBX_Cotton_DK_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/paintbox-yarns-cotton-dk',
    desc:'è±Šå¯Œãªã‚«ãƒ©ãƒ¼å±•é–‹ã®ã‚³ãƒƒãƒˆãƒ³DKã€‚è‰²ãŒç¶ºéº—ã§åˆå¿ƒè€…ã«ã‚‚äººæ°—ã€‚' },
  { id:18, name:'Drops Safran', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'Sport', grams:50, yardage:160, rating:4.4, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:100}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/DROPS/10251/drops_safran_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-safran',
    desc:'ãƒãƒ«ã‚¦ã‚§ãƒ¼ç™ºã®ã‚³ãƒƒãƒˆãƒ³ç³¸ã€‚ã•ã‚‰ã£ã¨ã—ãŸè‚Œè§¦ã‚Šã§å¤ã‚¢ã‚¤ãƒ†ãƒ ã«æœ€é©ã€‚' },
  { id:19, name:'Rowan Cotton Glace', brand:'Rowan', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'Fingering', grams:50, yardage:115, rating:4.3, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:100}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/Rowan/9349/cotton_glace_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/rowan-cotton-glace',
    desc:'å…‰æ²¢ã®ã‚ã‚‹ç´°ç•ªæ‰‹ã‚³ãƒƒãƒˆãƒ³ã€‚ç¹Šç´°ãªãƒ¬ãƒ¼ã‚¹æ¨¡æ§˜ã‚„å¤ã®ãƒˆãƒƒãƒ—ã‚¹ã«äººæ°—ã€‚' },
  { id:20, name:'Rowan Kidsilk Haze', brand:'Rowan', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'Lace', grams:25, yardage:210, rating:4.5, washable:false,
    fibers:[{name:'ãƒ¢ãƒ˜ã‚¢',pct:70},{name:'ã‚·ãƒ«ã‚¯',pct:30}], tags:['silk'],
    img:'https://images.ravelrycache.com/uploads/Rowan/9378/kidsilk_haze_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/rowan-kidsilk-haze',
    desc:'ãƒ¢ãƒ˜ã‚¢70%ï¼‹ã‚·ãƒ«ã‚¯30%ã®å¤¢ã®ã‚ˆã†ãªç³¸ã€‚ãµã‚ãµã‚ã§å…‰æ²¢ãŒã‚ã‚Šè¶…äººæ°—ã€‚' },
  { id:21, name:'ãƒãƒ­ ã‚·ãƒ«ã‚¯ã‚¬ãƒ¼ãƒ‡ãƒ³', brand:'Noro', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Aran', grams:50, yardage:100, rating:4.4, washable:false,
    fibers:[{name:'ã‚·ãƒ«ã‚¯',pct:45},{name:'ã‚­ãƒƒãƒ‰ãƒ¢ãƒ˜ã‚¢',pct:45},{name:'ãƒ©ãƒ ã‚¦ãƒ¼ãƒ«',pct:10}], tags:['silk'],
    img:'https://images.ravelrycache.com/uploads/Noro/15990/silk_garden_medium2.jpg',
    url:'https://eisakunoro.com/', desc:'æ—¥æœ¬ç™ºã®æ‰‹æŸ“ã‚é¢¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç³¸ã€‚ã‚·ãƒ«ã‚¯æ··ã§å€‹æ€§çš„ãªç·¨ã¿åœ°ã«ã€‚' },
  { id:22, name:'Lang Yarns Cashmere Premium', brand:'Lang Yarns', country:'ğŸ‡¨ğŸ‡­ ã‚¹ã‚¤ã‚¹',
    weight:'Fingering', grams:25, yardage:125, rating:4.8, washable:false,
    fibers:[{name:'ã‚«ã‚·ãƒŸã‚¢',pct:100}], tags:['cashmere'],
    img:'https://images.ravelrycache.com/uploads/Lang-Yarns/211009/lang_cashmere_premium_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/lang-yarns-cashmere-premium',
    desc:'ã‚¹ã‚¤ã‚¹ç™ºã®ã‚«ã‚·ãƒŸã‚¢100%ã€‚è¨€è‘‰ã‚’å¤±ã†ã»ã©ã®æŸ”ã‚‰ã‹ã•ã€‚ç‰¹åˆ¥ãªä½œå“ã«ã€‚' },
  { id:23, name:'Drops Kid-Silk', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'Lace', grams:25, yardage:200, rating:4.5, washable:false,
    fibers:[{name:'ã‚­ãƒƒãƒ‰ãƒ¢ãƒ˜ã‚¢',pct:75},{name:'ã‚·ãƒ«ã‚¯',pct:25}], tags:['cashmere','silk'],
    img:'https://images.ravelrycache.com/uploads/DROPS/18400/drops_kid-silk_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-kid-silk',
    desc:'ã‚­ãƒƒãƒ‰ãƒ¢ãƒ˜ã‚¢ï¼‹ã‚·ãƒ«ã‚¯ã®è´…æ²¢ãƒ¬ãƒ¼ã‚¹ç³¸ã€‚ãµã‚ãµã‚æ„Ÿã¯æœ€é«˜ç´šã€‚' },
  { id:24, name:'Drops Bomull-Lin', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'DK', grams:50, yardage:100, rating:4.3, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:53},{name:'ãƒªãƒãƒ³',pct:47}], tags:['linen','cotton'],
    img:'https://images.ravelrycache.com/uploads/DROPS/44618/drops_bomull-lin_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-bomull-lin',
    desc:'ã‚³ãƒƒãƒˆãƒ³ï¼‹ãƒªãƒãƒ³æ··ç´¡ã€‚ã•ã‚‰ã£ã¨ã—ãŸé¢¨åˆã„ã§å¤ã®å°ç‰©ã«æœ€é©ã€‚' },
  { id:25, name:'BC Garn Allino', brand:'BC Garn', country:'ğŸ‡©ğŸ‡° ãƒ‡ãƒ³ãƒãƒ¼ã‚¯',
    weight:'Sport', grams:100, yardage:280, rating:4.4, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:55},{name:'ãƒªãƒãƒ³',pct:45}], tags:['linen','cotton'],
    img:'https://images.ravelrycache.com/uploads/BC-Garn/126271/allino_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/bc-garn-allino',
    desc:'ãƒ‡ãƒ³ãƒãƒ¼ã‚¯ç™ºã‚³ãƒƒãƒˆãƒ³ï¼†ãƒªãƒãƒ³ã€‚çˆ½ã‚„ã‹ãªè³ªæ„Ÿã§å¤ã®ã‚¦ã‚§ã‚¢ã«å¤§äººæ°—ã€‚' },
  { id:26, name:'Wollmeise Twin', brand:'Wollmeise', country:'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„',
    weight:'Fingering', grams:150, yardage:560, rating:4.9, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:80},{name:'ãƒãƒªã‚¢ãƒŸãƒ‰',pct:20}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Wollmeise/134047/wollmeise_pure_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/wollmeise-twin',
    desc:'ãƒ‰ã‚¤ãƒ„æ‰‹æŸ“ã‚ãƒ¤ãƒ¼ãƒ³ã®æœ€é«˜å³°ã€‚é®®ã‚„ã‹ãªç™ºè‰²ã§ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼å¤šæ•°ã€‚' },
  { id:27, name:'ãƒãƒ­ å¤ªé™½ï¼ˆã‚¿ã‚¤ãƒ¨ã‚¦ï¼‰', brand:'Noro', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'DK', grams:100, yardage:200, rating:4.3, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:50},{name:'ã‚·ãƒ«ã‚¯',pct:17},{name:'ã‚¦ãƒ¼ãƒ«',pct:17}], tags:['silk','cotton','wool'],
    img:'https://images.ravelrycache.com/uploads/Noro/15991/noro_taiyo_medium2.jpg',
    url:'https://eisakunoro.com/', desc:'é‡å‘‚è‹±ä½œã«ã‚ˆã‚‹ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ··ç´¡ç³¸ã€‚å¤ªé™½ã®ã‚ˆã†ãªé®®ã‚„ã‹ãªè‰²å¤‰ã‚ã‚ŠãŒé­…åŠ›ã€‚' },
  { id:28, name:'Scheepjes Stonewashed', brand:'Scheepjes', country:'ğŸ‡³ğŸ‡± ã‚ªãƒ©ãƒ³ãƒ€',
    weight:'DK', grams:50, yardage:130, rating:4.7, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:78},{name:'ã‚¢ã‚¯ãƒªãƒ«',pct:22}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/Scheepjes/183791/Scheepjes-Stonewashed-medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/scheepjes-stonewashed',
    desc:'ã‚ªãƒ©ãƒ³ãƒ€ç™ºã®äººæ°—ã‚³ãƒƒãƒˆãƒ³ç³¸ã€‚çŸ³æ´—ã„ã®ã‚ˆã†ãªãƒãƒƒãƒˆãªè³ªæ„Ÿã§ã‚¢ãƒŸã‚°ãƒ«ãƒŸã«ã‚‚äººæ°—ã€‚' },
  { id:29, name:'Madelinetosh Tosh Merino Light', brand:'Madelinetosh', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Fingering', grams:100, yardage:420, rating:4.8, washable:false,
    fibers:[{name:'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¦ã‚©ãƒƒã‚·ãƒ¥ãƒ¡ãƒªãƒ',pct:100}], tags:['merino','wool'],
    img:'https://images.ravelrycache.com/uploads/Madelinetosh/116703/madelinetosh_tosh_merino_light_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/madelinetosh-tosh-merino-light',
    desc:'ã‚¢ãƒ¡ãƒªã‚«æ‰‹æŸ“ã‚ã®æœ€é«˜å³°ã€‚æ·±ã¿ã®ã‚ã‚‹ç‹¬è‡ªã‚«ãƒ©ãƒ¼ã¯ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼å‚æ¶ã®çš„ã€‚' },
  { id:30, name:'Schoppel Zauberball', brand:'Schoppel Wolle', country:'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„',
    weight:'Fingering', grams:100, yardage:420, rating:4.8, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:75},{name:'ãƒãƒªã‚¢ãƒŸãƒ‰',pct:25}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Schoppel-Wolle/74451/zauberball_100_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/schoppel-wolle-zauberball',
    desc:'é­”æ³•ã®ç‰ã¨ã„ã†åã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç³¸ã€‚è‡ªç„¶ã¨å¤‰ã‚ã‚‹è‰²ãŒé­”æ³•ã®ã‚ˆã†ã€‚' },
  { id:31, name:'Paintbox Yarns Simply DK', brand:'Paintbox Yarns', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'DK', grams:100, yardage:276, rating:4.2, washable:true,
    fibers:[{name:'ã‚¢ã‚¯ãƒªãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Paintbox-Yarns/189975/Simply_DK_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/paintbox-yarns-simply-dk',
    desc:'è±Šå¯Œãªã‚«ãƒ©ãƒ¼50è‰²ä»¥ä¸Šï¼æ‰‹é ƒãªä¾¡æ ¼ã§å­ã©ã‚‚æœã‚„ã‚¢ãƒŸã‚°ãƒ«ãƒŸã«äººæ°—ã€‚' },
  { id:32, name:'Filatura di Crosa Zara', brand:'Filatura di Crosa', country:'ğŸ‡®ğŸ‡¹ ã‚¤ã‚¿ãƒªã‚¢',
    weight:'Sport', grams:50, yardage:137, rating:4.7, washable:true,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['merino'],
    img:'https://images.ravelrycache.com/uploads/Filatura-di-Crosa/9645/zara_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/filatura-di-crosa-zara',
    desc:'ã‚¤ã‚¿ãƒªã‚¢ç”£ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¦ã‚©ãƒƒã‚·ãƒ¥ãƒ¡ãƒªãƒã€‚è‚Œè§¦ã‚ŠãŒè‰¯ããƒ‹ãƒƒãƒˆã‚¦ã‚§ã‚¢ã®å®šç•ªã€‚' },
  { id:33, name:'ãƒãƒ– ãƒ†ã‚­ã‚¹ã‚¿ã‚¤ãƒ«ã‚º ç´¬ã‚·ãƒ«ã‚¯', brand:'Habu Textiles', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Lace', grams:40, yardage:480, rating:4.6, washable:false,
    fibers:[{name:'ã‚·ãƒ«ã‚¯',pct:100}], tags:['silk'],
    img:'https://images.ravelrycache.com/uploads/Habu-Textiles/9696/habu_tsumugi_medium2.jpg',
    url:'https://www.habutextiles.com/', desc:'æ—¥æœ¬ä¼çµ±ã®ç´¬ã‚·ãƒ«ã‚¯ã€‚ç´ æœ´ãªå…‰æ²¢ã¨ç‹¬ç‰¹ã®è³ªæ„ŸãŒé­…åŠ›ã®ã‚·ãƒ«ã‚¯ç³¸ã€‚' },
  { id:34, name:'Cascade Alpaca Lace', brand:'Cascade Yarns', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Lace', grams:50, yardage:437, rating:4.5, washable:false,
    fibers:[{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:100}], tags:['alpaca'],
    img:'https://images.ravelrycache.com/uploads/Cascade/43581/alpaca_lace_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/cascade-yarns-alpaca-lace',
    desc:'è¶…æ¥µç´°ã‚¢ãƒ«ãƒ‘ã‚«ãƒ¬ãƒ¼ã‚¹ç³¸ã€‚ç¹Šç´°ãªã‚·ãƒ§ãƒ¼ãƒ«ã‚„ãƒ¬ãƒ¼ã‚¹ç·¨ã¿ã«æœ€é©ãªä¸€å“ã€‚' },
  { id:35, name:'Quince and Co. Sparrow', brand:'Quince & Co.', country:'ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«',
    weight:'Lace', grams:50, yardage:403, rating:4.5, washable:true,
    fibers:[{name:'ãƒªãƒãƒ³',pct:100}], tags:['linen'],
    img:'https://images.ravelrycache.com/uploads/Quince-amp-Co/115037/sparrow_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/quince-and-co-sparrow',
    desc:'ã‚¢ãƒ¡ãƒªã‚«ç”£ãƒªãƒãƒ³100%ã€‚æ´—ã†ã»ã©ã«æŸ”ã‚‰ã‹ããªã‚‹å¤©ç„¶ç´ æã®é€¸å“ã€‚' },
  { id:36, name:'Schachenmayr Merino Super Big', brand:'Schachenmayr', country:'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„',
    weight:'Super Bulky', grams:100, yardage:100, rating:4.5, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool','merino'],
    img:'https://images.ravelrycache.com/uploads/Schachenmayr/271615/SMC_Merino_Super_Big_Color_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/schachenmayr-original-merino-super-big',
    desc:'ãƒ‰ã‚¤ãƒ„ç™ºã®æ¥µå¤ªãƒ¡ãƒªãƒç³¸ã€‚ã‚¢ãƒ¼ãƒ ãƒ‹ãƒƒãƒˆã«ã‚‚ä½¿ãˆã‚‹ã‚´ãƒ¼ã‚¸ãƒ£ã‚¹ãªå¤ªã•ã€‚' },
  { id:37, name:'ãƒãƒ­ ãã‚Œã‚ˆã‚“', brand:'Noro', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Worsted', grams:50, yardage:100, rating:4.5, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Noro/15985/kureyon_medium2.jpg',
    url:'https://eisakunoro.com/', desc:'é‡å‘‚è‹±ä½œã®ä»£è¡¨ä½œã€‚ç·¨ã‚€ã»ã©ã«ç”Ÿã¾ã‚Œã‚‹ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸–ç•Œä¸­ã§æ„›ã•ã‚Œã‚‹ã€‚' },
  { id:38, name:'ãƒãƒ­ ç³¸ï¼ˆã‚¤ãƒˆï¼‰', brand:'Noro', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Fingering', grams:100, yardage:400, rating:4.6, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:70},{name:'ã‚·ãƒ«ã‚¯',pct:30}], tags:['wool','silk'],
    img:'https://images.ravelrycache.com/uploads/Noro/188065/noro_ito_medium2.jpg',
    url:'https://eisakunoro.com/', desc:'ã‚¦ãƒ¼ãƒ«ï¼‹ã‚·ãƒ«ã‚¯ã®ç´°ç•ªæ‰‹ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç³¸ã€‚ç¹Šç´°ãªç·¨ã¿åœ°ãŒæ¥½ã—ã‚ã‚‹ä¸Šå“ãªä¸€ç³¸ã€‚' },
  { id:39, name:'ãƒãƒ­ ã¡ã‚Šã‚ã‚“', brand:'Noro', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'DK', grams:50, yardage:120, rating:4.4, washable:false,
    fibers:[{name:'ã‚·ãƒ«ã‚¯',pct:60},{name:'ã‚¦ãƒ¼ãƒ«',pct:40}], tags:['silk','wool'],
    img:'https://images.ravelrycache.com/uploads/Noro/207894/chirimen_medium2.jpg',
    url:'https://eisakunoro.com/', desc:'ã¡ã‚Šã‚ã‚“èª¿ã®å‡¹å‡¸æ„ŸãŒç‹¬ç‰¹ã€‚ã‚·ãƒ«ã‚¯60%ã§ã¨ã‚ã‚“ã¨ã—ãŸå…‰æ²¢ãŒç¾ã—ã„Noroç³¸ã€‚' },
  { id:40, name:'ã‚¹ã‚­ãƒ¼æ¯›ç³¸ ãƒ¡ãƒªãƒã‚½ãƒ•ãƒˆ', brand:'Ski Yarnï¼ˆã‚¹ã‚­ãƒ¼æ¯›ç³¸ï¼‰', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'DK', grams:40, yardage:96, rating:4.5, washable:true,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:100}], tags:['merino','wool'],
    img:'https://images.ravelrycache.com/uploads/Ski/9771/skimerino_medium2.jpg',
    url:'https://www.yanagi-ya.jp/item_list/03109/', desc:'æ—¥æœ¬ã®ã‚¹ã‚­ãƒ¼æ¯›ç³¸ã®ãƒ¡ãƒªãƒç³¸ã€‚å›½å†…ç·¨ã¿ç‰©æ„›å¥½å®¶ã«é•·å¹´æ„›ã•ã‚Œã‚‹å®šç•ªãƒ–ãƒ©ãƒ³ãƒ‰ã€‚' },
  { id:41, name:'ãƒ€ãƒ«ãƒ ã‚¦ãƒ¼ãƒ«ãƒ ãƒ¼ã‚¹', brand:'Darumaï¼ˆãƒ€ãƒ«ãƒï¼‰', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Bulky', grams:40, yardage:56, rating:4.6, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Daruma/207277/daruma_wool_mousse_medium2.jpg',
    url:'https://daruma-ito.co.jp/', desc:'ãµã‚ãµã‚æ„ŸãŒç‰¹å¾´ã®æ—¥æœ¬ç™ºãƒ€ãƒ«ãƒç³¸ã€‚ã‚‚ã“ã‚‚ã“ã—ãŸè³ªæ„Ÿã§ã‚¹ãƒŒãƒ¼ãƒ‰ã‚„ãƒãƒ•ãƒ©ãƒ¼ã«äººæ°—ã€‚' },
  { id:42, name:'ãƒ€ãƒ«ãƒ ç³¸ã”ã¾', brand:'Darumaï¼ˆãƒ€ãƒ«ãƒï¼‰', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Fingering', grams:20, yardage:70, rating:4.4, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:65},{name:'ã‚·ãƒ«ã‚¯',pct:35}], tags:['wool','silk'],
    img:'https://images.ravelrycache.com/uploads/Daruma/193567/itogoma_medium2.jpg',
    url:'https://daruma-ito.co.jp/', desc:'ã‚´ãƒã®åå‰ã‚’æŒã¤ã‚¦ãƒ¼ãƒ«ï¼‹ã‚·ãƒ«ã‚¯æ··ç´¡ã€‚ç¹Šç´°ãªå…‰æ²¢ã¨æŸ”ã‚‰ã‹ã•ãŒç‰¹å¾´ã®æ—¥æœ¬ç³¸ã€‚' },
  { id:43, name:'ãƒªãƒƒãƒãƒ¢ã‚¢ ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ', brand:'Rich Moreï¼ˆãƒªãƒƒãƒãƒ¢ã‚¢ï¼‰', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Fingering', grams:40, yardage:160, rating:4.5, washable:true,
    fibers:[{name:'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¦ã‚©ãƒƒã‚·ãƒ¥ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool','merino'],
    img:'https://images.ravelrycache.com/uploads/Rich-More/9833/richmore_percent_medium2.jpg',
    url:'http://hamanaka.jp/richmore', desc:'æ—¥æœ¬ãƒªãƒƒãƒãƒ¢ã‚¢ã®é´ä¸‹ç³¸å®šç•ªã€‚è±Šå¯Œãªã‚«ãƒ©ãƒ¼å±•é–‹ã¨è€ä¹…æ€§ã§ç·¨ã¿ç‰©ãƒ•ã‚¡ãƒ³ã«å¤§äººæ°—ã€‚' },
  { id:44, name:'ãƒãƒ– ãƒ†ã‚­ã‚¹ã‚¿ã‚¤ãƒ«ã‚º ã‚¦ãƒ¼ãƒ«ã‚¯ãƒ¬ãƒ¼ãƒ—', brand:'Habu Textiles', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Lace', grams:100, yardage:340, rating:4.5, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:100}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/Habu-Textiles/9695/habu_wool_medium2.jpg',
    url:'https://www.habutextiles.com/', desc:'ã‚¯ãƒ¬ãƒ¼ãƒ—åŠ å·¥ã®ç´°ç•ªæ‰‹ã‚¦ãƒ¼ãƒ«ã€‚æ—¥æœ¬ã®è·äººæŠ€ãŒå…‰ã‚‹ç‹¬ç‰¹ã®é¢¨åˆã„ãŒæµ·å¤–ã§ã‚‚é«˜è©•ä¾¡ã€‚' },
  { id:45, name:'ãƒ€ãƒ«ãƒ ã‚¨ã‚¢ãƒªãƒ¼ã‚¦ãƒ¼ãƒ«ã‚¢ãƒ«ãƒ‘ã‚«', brand:'Darumaï¼ˆãƒ€ãƒ«ãƒï¼‰', country:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬',
    weight:'Worsted', grams:30, yardage:70, rating:4.7, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:60},{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:40}], tags:['wool','alpaca'],
    img:'https://images.ravelrycache.com/uploads/Daruma/264089/daruma_airy_wool_alpaca_medium2.jpg',
    url:'https://daruma-ito.co.jp/', desc:'ãƒ€ãƒ«ãƒã®ã‚¦ãƒ¼ãƒ«ï¼‹ã‚¢ãƒ«ãƒ‘ã‚«ã€‚è»½ãã¦ãµã‚ã£ã¨ã—ãŸç©ºæ°—æ„ŸãŒæ°—æŒã¡ã„ã„å†¬ã®äººæ°—ç³¸ã€‚' },
  // è¿½åŠ ç³¸
  { id:46, name:'Drops Flora', brand:'Garnstudio Drops', country:'ğŸ‡³ğŸ‡´ ãƒãƒ«ã‚¦ã‚§ãƒ¼',
    weight:'Sport', grams:50, yardage:210, rating:4.5, washable:false,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:65},{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:35}], tags:['wool','alpaca'],
    img:'https://images.ravelrycache.com/uploads/DROPS/130441/drops_flora_uni_colour_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/drops-flora',
    desc:'ã‚¦ãƒ¼ãƒ«ï¼†ã‚¢ãƒ«ãƒ‘ã‚«ã®ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚§ã‚¤ãƒˆã€‚è»½ã‚„ã‹ã§è‚Œè§¦ã‚Šã‚ˆãç·¨ã¿ã‚„ã™ã„ä¸‡èƒ½ç³¸ã€‚' },
  { id:47, name:'Rowan Felted Tweed DK', brand:'Rowan', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'DK', grams:50, yardage:175, rating:4.7, washable:false,
    fibers:[{name:'ãƒ¡ãƒªãƒã‚¦ãƒ¼ãƒ«',pct:50},{name:'ã‚¢ãƒ«ãƒ‘ã‚«',pct:25},{name:'ãƒ“ã‚¹ã‚³ãƒ¼ã‚·ãƒ¥',pct:25}], tags:['wool','alpaca','merino'],
    img:'https://images.ravelrycache.com/uploads/Rowan/9386/felted_tweed_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/rowan-felted-tweed',
    desc:'è‹±å›½ãƒ­ãƒ¼ãƒ¯ãƒ³ã®åä½œãƒ„ã‚¤ãƒ¼ãƒ‰ç³¸ã€‚ãƒ¡ãƒªãƒï¼‹ã‚¢ãƒ«ãƒ‘ã‚«ï¼‹ãƒ“ã‚¹ã‚³ãƒ¼ã‚¹ã®çµ¶å¦™ãƒ–ãƒ¬ãƒ³ãƒ‰ã€‚' },
  { id:48, name:'Malabrigo Mechita', brand:'Malabrigo', country:'ğŸ‡ºğŸ‡¾ ã‚¦ãƒ«ã‚°ã‚¢ã‚¤',
    weight:'Fingering', grams:100, yardage:400, rating:4.9, washable:false,
    fibers:[{name:'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¦ã‚©ãƒƒã‚·ãƒ¥ãƒ¡ãƒªãƒ',pct:100}], tags:['merino','wool'],
    img:'https://images.ravelrycache.com/uploads/Malabrigo/165082/mechita_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/malabrigo-mechita',
    desc:'Malabrigoã®ç´°ç•ªæ‰‹æ‰‹æŸ“ã‚ç³¸ã€‚é´ä¸‹ã‚„ã‚·ãƒ§ãƒ¼ãƒ«ã«æœ€é©ãªå¤¢ã®ã‚ˆã†ãªãƒ¡ãƒªãƒã€‚' },
  { id:49, name:'Scheepjes Whirl', brand:'Scheepjes', country:'ğŸ‡³ğŸ‡± ã‚ªãƒ©ãƒ³ãƒ€',
    weight:'Fingering', grams:215, yardage:1000, rating:4.8, washable:true,
    fibers:[{name:'ã‚³ãƒƒãƒˆãƒ³',pct:60},{name:'ã‚¢ã‚¯ãƒªãƒ«',pct:40}], tags:['cotton'],
    img:'https://images.ravelrycache.com/uploads/Scheepjes/232963/whirl_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/scheepjes-whirl',
    desc:'å¤§ç‰ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç³¸ã€‚1ç‰ã§ã‚·ãƒ§ãƒ¼ãƒ«1æšåˆ†ï¼æ¸¦å·»ãæ¨¡æ§˜ã®ã‚«ãƒ©ãƒ¼ãŒäººæ°—ã€‚' },
  { id:50, name:'West Yorkshire Spinners Signature 4ply', brand:'West Yorkshire Spinners', country:'ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹',
    weight:'Fingering', grams:100, yardage:400, rating:4.7, washable:true,
    fibers:[{name:'ã‚¦ãƒ¼ãƒ«',pct:75},{name:'ãƒŠã‚¤ãƒ­ãƒ³',pct:25}], tags:['wool'],
    img:'https://images.ravelrycache.com/uploads/West-Yorkshire-Spinners/265034/WYS_Signature_4ply_medium2.jpg',
    url:'https://www.ravelry.com/yarns/library/west-yorkshire-spinners-signature-4-ply',
    desc:'è‹±å›½ç™ºã®é´ä¸‹ç³¸ã€‚ä¸ˆå¤«ã§è‰²é®®ã‚„ã‹ã€è±Šå¯Œãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ³ãŒæƒã†äººæ°—ãƒ–ãƒ©ãƒ³ãƒ‰ã€‚' },
];

// â”€â”€ FILTER â”€â”€
function filterYarns(materialQ, countryQ, weightQ, searchQ, page) {
  let filtered = YARNS;
  if (materialQ && materialQ !== 'all') {
    filtered = filtered.filter(y => y.tags.some(t => t.includes(materialQ)));
  }
  if (countryQ && countryQ !== 'all') {
    filtered = filtered.filter(y => y.country.includes(countryQ));
  }
  if (weightQ && weightQ !== 'all') {
    filtered = filtered.filter(y => y.weight.includes(weightQ));
  }
  if (searchQ) {
    const q = searchQ.toLowerCase();
    filtered = filtered.filter(y =>
      y.name.toLowerCase().includes(q) ||
      y.brand.toLowerCase().includes(q) ||
      y.fibers.some(f => f.name.toLowerCase().includes(q)) ||
      y.desc.includes(q)
    );
  }
  const total = filtered.length;
  const pages = Math.ceil(total / PAGE_SIZE) || 1;
  const start = (page - 1) * PAGE_SIZE;
  return { yarns: filtered.slice(start, start + PAGE_SIZE), total, pages };
}

// â”€â”€ FAVORITES â”€â”€
function isFav(id) { return favorites.includes(id); }
function toggleFav(id) {
  if (isFav(id)) {
    favorites = favorites.filter(f => f !== id);
  } else {
    favorites.push(id);
  }
  localStorage.setItem('yarn_favs', JSON.stringify(favorites));
  updateFavCount();
  // re-render heart on all visible cards
  document.querySelectorAll('.heart-btn').forEach(btn => {
    const cid = parseInt(btn.dataset.id);
    btn.textContent = isFav(cid) ? 'ğŸ©·' : 'ğŸ¤';
    btn.classList.toggle('faved', isFav(cid));
  });
  // if in fav tab, refresh
  if (currentTab === 'fav') showYarns(1, false);
}
function updateFavCount() {
  const el = document.getElementById('favCount');
  el.textContent = favorites.length > 0 ? '(' + favorites.length + ')' : '';
}

// â”€â”€ TAB SWITCH â”€â”€
function switchTab(tab) {
  currentTab = tab;
  document.getElementById('tabAll').classList.toggle('active', tab === 'all');
  document.getElementById('tabFav').classList.toggle('active', tab === 'fav');
  currentPage = 1;
  showYarns(1, false);
}

// â”€â”€ EVENTS â”€â”€
document.getElementById('searchBtn').onclick = () => {
  currentSearch = document.getElementById('searchInput').value.trim();
  currentPage = 1;
  showYarns(1, false);
};
document.getElementById('searchInput').onkeydown = e => {
  if (e.key === 'Enter') document.getElementById('searchBtn').click();
};
document.querySelectorAll('.chip[data-type="material"]').forEach(c => {
  c.onclick = () => {
    document.querySelectorAll('.chip[data-type="material"]').forEach(x => x.classList.remove('active'));
    c.classList.add('active');
    currentMaterial = c.dataset.q;
    currentPage = 1;
    showYarns(1, false);
  };
});
document.querySelectorAll('.chip[data-type="country"]').forEach(c => {
  c.onclick = () => {
    document.querySelectorAll('.chip[data-type="country"]').forEach(x => x.classList.remove('active'));
    c.classList.add('active');
    currentCountry = c.dataset.q;
    currentPage = 1;
    showYarns(1, false);
  };
});
document.querySelectorAll('.chip[data-type="weight"]').forEach(c => {
  c.onclick = () => {
    document.querySelectorAll('.chip[data-type="weight"]').forEach(x => x.classList.remove('active'));
    c.classList.add('active');
    currentWeight = c.dataset.q;
    currentPage = 1;
    showYarns(1, false);
  };
});
document.getElementById('loadMore').onclick = () => showYarns(currentPage + 1, true);
document.getElementById('modal').onclick = e => {
  if (e.target === document.getElementById('modal')) closeModal();
};

// â”€â”€ SHOW â”€â”€
function showYarns(page, append) {
  page = page || 1; append = append || false;
  const grid = document.getElementById('grid');
  const status = document.getElementById('statusBar');
  const loadMoreBtn = document.getElementById('loadMore');
  const emptyState = document.getElementById('emptyState');
  const emptyMsg = document.getElementById('emptyMsg');
  if (!append) { grid.innerHTML = ''; emptyState.style.display = 'none'; }

  let yarnsToShow;
  if (currentTab === 'fav') {
    const favYarns = YARNS.filter(y => isFav(y.id));
    const total = favYarns.length;
    const pages = Math.ceil(total / PAGE_SIZE) || 1;
    const start = (page - 1) * PAGE_SIZE;
    yarnsToShow = { yarns: favYarns.slice(start, start + PAGE_SIZE), total, pages };
    if (total === 0) {
      emptyMsg.textContent = 'ã¾ã ãŠæ°—ã«å…¥ã‚ŠãŒã‚ã‚Šã¾ã›ã‚“ã€‚ğŸ¤ ã‚’æŠ¼ã—ã¦è¿½åŠ ã—ã‚ˆã†ï¼';
      emptyState.style.display = 'block';
      status.textContent = '';
      loadMoreBtn.style.display = 'none';
      return;
    }
  } else {
    yarnsToShow = filterYarns(currentMaterial, currentCountry, currentWeight, currentSearch, page);
    if (yarnsToShow.yarns.length === 0 && !append) {
      emptyMsg.textContent = 'æ¯›ç³¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åˆ¥ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è©¦ã—ã¦ã¿ã¦ï¼';
      emptyState.style.display = 'block';
      status.textContent = '';
      loadMoreBtn.style.display = 'none';
      return;
    }
  }

  currentPage = page;
  totalPages = yarnsToShow.pages;
  renderCards(yarnsToShow.yarns, append);
  status.textContent = yarnsToShow.total + 'ç¨®é¡ã®æ¯›ç³¸ãŒè¦‹ã¤ã‹ã£ãŸã‚ˆ âœ¨';
  loadMoreBtn.style.display = currentPage < totalPages ? 'block' : 'none';
}

// â”€â”€ RENDER â”€â”€
function renderCards(yarns, append) {
  const grid = document.getElementById('grid');
  yarns.forEach(function(y, i) {
    const card = buildCard(y, append ? grid.children.length + i : i);
    grid.appendChild(card);
  });
}

function buildCard(y, idx) {
  const card = document.createElement('div');
  card.className = 'yarn-card';
  card.style.animationDelay = (idx % 8) * 0.05 + 's';
  const fibers = y.fibers.map(function(f){ return f.name + ' ' + f.pct + '%'; });
  const stars = ratingStars(y.rating);
  const faved = isFav(y.id);
  const imgHtml = y.img
    ? '<img class="card-img" src="' + y.img + '" alt="' + escHtml(y.name) + '" loading="lazy" onerror="this.outerHTML=\'<div class=card-img-placeholder>' + randEmoji(idx) + '</div>\'">'
    : '<div class="card-img-placeholder">' + randEmoji(idx) + '</div>';
  const isJP = y.country.includes('æ—¥æœ¬');
  card.innerHTML =
    '<div class="card-img-wrap">' + imgHtml +
      '<button class="heart-btn' + (faved ? ' faved' : '') + '" data-id="' + y.id + '">' + (faved ? 'ğŸ©·' : 'ğŸ¤') + '</button>' +
    '</div>' +
    '<div class="card-body">' +
      '<div class="card-brand">' + escHtml(y.brand) + ' ' + y.country + '</div>' +
      '<div class="card-name">' + escHtml(y.name) + '</div>' +
      '<div class="card-tags">' +
        '<span class="tag tag-weight">' + escHtml(y.weight) + '</span>' +
        fibers.slice(0,2).map(function(f){ return '<span class="tag tag-fiber">' + escHtml(f) + '</span>'; }).join('') +
        (y.washable ? '<span class="tag tag-washable">æ´—æ¿¯æ©ŸOK</span>' : '') +
      '</div>' +
      '<div class="card-detail">é‡ã•: <span>' + y.grams + 'g</span>ã€€é•·ã•: <span>' + y.yardage + 'm</span></div>' +
    '</div>' +
    '<div class="card-footer">' +
      '<span class="stars">' + stars + '</span>' +
      '<a class="ravelry-link" href="https://www.google.com/search?q=' + encodeURIComponent(y.name + ' ' + y.brand + ' æ¯›ç³¸') + '" target="_blank" rel="noopener">ğŸ” æ¤œç´¢ â†—</a>' +
    '</div>';
  card.querySelector('.heart-btn').onclick = function(e) {
    e.stopPropagation();
    toggleFav(y.id);
  };
  card.onclick = function(e) {
    if (!e.target.classList.contains('ravelry-link') && !e.target.classList.contains('heart-btn'))
      openModal(y);
  };
  return card;
}

// â”€â”€ MODAL â”€â”€
function openModal(y) {
  const box = document.getElementById('modalBox');
  const fibers = y.fibers.map(function(f){ return f.name + ' ' + f.pct + '%'; });
  const faved = isFav(y.id);
  const isJP = y.country.includes('æ—¥æœ¬');
  const imgHtml = y.img
    ? '<img class="modal-img" src="' + y.img + '" alt="' + escHtml(y.name) + '" onerror="this.outerHTML=\'<div class=modal-img-placeholder>ğŸ§¶</div>\'">'
    : '<div class="modal-img-placeholder">ğŸ§¶</div>';
  box.innerHTML = imgHtml +
    '<div class="modal-content">' +
      '<div class="modal-brand">' + escHtml(y.brand) + ' Â· ' + y.country + '</div>' +
      '<div class="modal-title-row">' +
        '<div class="modal-title">' + escHtml(y.name) + '</div>' +
        '<button class="modal-heart' + (faved ? ' faved' : '') + '" data-id="' + y.id + '" onclick="toggleFav(' + y.id + ');this.textContent=isFav(' + y.id + ')?\'ğŸ©·\':\'ğŸ¤\';this.classList.toggle(\'faved\',isFav(' + y.id + '))">' + (faved ? 'ğŸ©·' : 'ğŸ¤') + '</button>' +
      '</div>' +
      '<div class="modal-tags">' +
        '<span class="tag tag-weight">' + escHtml(y.weight) + '</span>' +
        fibers.map(function(f){ return '<span class="tag tag-fiber">' + escHtml(f) + '</span>'; }).join('') +
        (y.washable ? '<span class="tag tag-washable">æ´—æ¿¯æ©ŸOK</span>' : '') +
      '</div>' +
      '<div class="modal-grid">' +
        '<div class="modal-item"><label>é‡ã•</label><value>' + y.grams + 'g</value></div>' +
        '<div class="modal-item"><label>é•·ã•</label><value>' + y.yardage + 'm</value></div>' +
        '<div class="modal-item"><label>ç³¸ã®å¤ªã•</label><value>' + escHtml(y.weight) + '</value></div>' +
        '<div class="modal-item"><label>è©•ä¾¡</label><value>' + ratingStars(y.rating) + ' ' + y.rating + '</value></div>' +
      '</div>' +
      '<div class="modal-notes">' + escHtml(y.desc) + '</div>' +
      '<div class="modal-actions">' +
        '<a class="btn-search" href="https://www.google.com/search?q=' + encodeURIComponent(y.name + ' ' + y.brand + ' æ¯›ç³¸') + '" target="_blank" rel="noopener">ğŸ” æ¤œç´¢ã™ã‚‹ â†—</a>' +
        '<button class="btn-close" onclick="closeModal()">é–‰ã˜ã‚‹</button>' +
      '</div>' +
    '</div>';
  document.getElementById('modal').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeModal() {
  document.getElementById('modal').classList.remove('open');
  document.body.style.overflow = '';
}

// â”€â”€ HELPERS â”€â”€
function ratingStars(r) { var n=Math.round(r); return 'â˜…'.repeat(n)+'â˜†'.repeat(5-n); }
function randEmoji(i) { return EMOJIS[i%EMOJIS.length]; }
function escHtml(s) {
  if(!s) return '';
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

// â”€â”€ BOOT â”€â”€
document.addEventListener('DOMContentLoaded', function() {
  document.querySelector('.chip[data-type="material"][data-q="all"]').classList.add('active');
  updateFavCount();
  showYarns(1, false);
});
</script>
</body>
</html>
